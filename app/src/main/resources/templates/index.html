<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content=""/>
  <meta name="author" content=""/>

  <title>NextReview</title>

  <!-- Bootstrap CSS -->
  <link href="../css/bootstrap.min.css" rel="stylesheet"/>

  <!-- Custom CSS -->
  <link href="../css/style.css" rel="stylesheet"/>

  <!-- Custom Fonts -->
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
        type="text/css"/>

</head>

<body>

<div id="wrapper">

  <!-- Navigation -->
  <nav th:replace="fragments/navbar"/>

  <div id="page-wrapper" class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <h1 class="page-header">Administration Panel</h1>
      </div>
      <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
    <div class="row">
      <div class="col-lg-4 col-md-4">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <div class="row">
              <div class="col-xs-3">
                <i class="fa fa-users fa-5x"></i>
              </div>
              <div class="col-xs-9 text-right">
                <div class="huge"><span th:text="${panel.teamCount}"/></div>
                <div class="huge-label">Teams</div>
              </div>
            </div>
          </div>
          <a href="add_team.html">
            <div class="panel-footer">
              <span class="pull-left">Add Team</span>
              <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
              <div class="clearfix"></div>
            </div>
          </a>
        </div>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="panel panel-green">
          <div class="panel-heading">
            <div class="row">
              <div class="col-xs-3">
                <i class="fa fa-user fa-5x"></i>
              </div>
              <div class="col-xs-9 text-right">
                <div class="huge"><span th:text="${panel.membersCount}"/></div>
                <div class="huge-label">Persons</div>
              </div>
            </div>
          </div>
          <a href="add_person.html">
            <div class="panel-footer">
              <span class="pull-left">Add Person</span>
              <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
              <div class="clearfix"></div>
            </div>
          </a>
        </div>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="panel panel-yellow">
          <div class="panel-heading">
            <div class="row">
              <div class="col-xs-3">
                <i class="fa fa-calendar fa-5x"></i>
              </div>
              <div class="col-xs-9 text-right">
                <div class="huge"><p th:text="${panel.scheduledReviewsCount}"/></div>
                <div class="huge-label">Scheduled Reviews</div>
              </div>
            </div>
          </div>
          <a href="add_review.html">
            <div class="panel-footer">
              <span class="pull-left">Create Review</span>
              <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
              <div class="clearfix"></div>
            </div>
          </a>
        </div>
      </div>
    </div>
    <!-- /.row -->
    <div class="row">
      <div class="col-lg-8">
        <!-- /.panel -->
        <div class="panel panel-default">
          <div class="panel-heading">
            <i class="fa fa-user fa-fw"></i> Member Management
          </div>
          <!-- /.panel-heading -->
          <div class="panel-body">
            <div class="row">
              <div class="col-lg-12">
                <div class="table-responsive">
                  <table class="table table-hover table-striped">
                    <thead>
                    <tr>
                      <th>Name</th>
                      <th>Email</th>
                      <th>Team</th>
                      <th class="text-right">Action</th>
                    </tr>
                    </thead>
                    <tbody th:if="${panel.members != null}">
                    <tr th:each="member : ${panel.members.content}">
                      <td><span th:text="${member.firstName} + ' ' + ${member.lastName}"/></td>
                      <td><span th:text="${member.email}"/></td>
                      <td>
                        <p th:each="team : ${member.teams}">
                          <span th:text="${team.name}"/>
                        </p>
                      </td>
                      <td class="text-right">
                        <a th:href="'edit_person.html?id=' + ${member.id}" class="btn btn-sm btn-warning"><i
                            class="fa fa-pencil"></i> Edit</a>
                        <a th:href="'delete_person.html?id=' + ${member.id}" class="btn btn-sm btn-danger"><i
                            class="fa fa-trash"></i> Remove</a>
                      </td>
                    </tr>
                    </tbody>
                  </table>
                  <div th:if="${panel.members == null or #lists.isEmpty(panel.members)}" class="text-center">
                    No members registered yet. Wanna do something about it?
                    <br/><br/>
                  </div>
                  <div class="text-center" th:if="${panel.members != null}">
                    <div th:replace="fragments/pagination :: pagination (page = ${panel.members})"/>
                  </div>
                </div>
                <!-- /.table-responsive -->
              </div>
            </div>
            <!-- /.row -->
          </div>
          <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
      </div>
      <!-- /.col-lg-8 -->
      <div class="col-lg-4">
        <div class="panel panel-default">
          <div class="panel-heading">
            <i class="fa fa-calendar fa-fw"></i> Scheduled Reviews
          </div>
          <div class="panel-body">
            <div th:if="${panel.nextReviews == null or #lists.isEmpty(panel.nextReviews)}" class="text-center">
              No review currently scheduled
              <br/><br/>
            </div>
            <table class="table table-striped" th:if="${panel.nextReviews != null}">
              <tr th:each="review : ${panel.nextReviews}">
                <td><span th:text="${review.name}"/></td>
                <td><span th:text="${review.team.name}"/></td>
                <td class="text-right"><span class="text-muted small"><span
                    th:text="${review.scheduledDateTime}"/></span></td>
              </tr>
            </table>
            <a href="#" class="btn btn-default btn-block">Schedule a Review</a>
          </div>
          <!-- /.panel-body -->
        </div>
        <!-- /.panel -->

        <div class="panel panel-default">
          <div class="panel-heading">
            <i class="fa fa-users fa-fw"></i> Team Management
          </div>
          <!-- /.panel-heading -->
          <div class="panel-body">
            <div class="list-group" th:if="${panel.teams != null and not #lists.isEmpty(panel.teams)}">
              <a href="#" class="list-group-item" th:each="team : ${panel.teams}">
                <i class="fa fa-users fa-fw"></i> <span th:text="${team.name}"/>
                <span class="pull-right text-muted small"><em><span th:text="${#lists.size(team.members)}"/> members</em></span>
              </a>
            </div>
            <div th:if="${panel.teams == null or #lists.isEmpty(panel.teams)}" class="text-center">
              There are no teams. None.
              <br/><br/>
            </div>
            <!-- /.list-group -->
            <a href="#" class="btn btn-default btn-block">Add a Team</a>
          </div>
          <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
      </div>
      <!-- /.col-lg-4 -->
    </div>
    <!-- /.row -->
  </div>
  <!-- /#page-wrapper -->

</div>
<!-- /#wrapper -->
<footer th:replace="fragments/footer"/>

<!-- jQuery -->
<script src="../js/jquery-3.1.1.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="../js/bootstrap.min.js"></script>

</body>

</html>
