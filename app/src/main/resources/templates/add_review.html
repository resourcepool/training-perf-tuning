<!DOCTYPE html>
<html th:lang="${#locale}" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content=""/>
  <meta name="author" content=""/>

  <title>When Is My Code Review?</title>

  <!-- Bootstrap CSS -->
  <link href="../css/bootstrap.min.css" rel="stylesheet"/>

  <!-- DatePicker CSS -->
  <link href="../css/bootstrap-datepicker3.css" rel="stylesheet"/>
  
  <!-- TimePicker CSS -->
  <link href="../css/jquery.timepicker.css" rel="stylesheet"/>
  
  <!-- Custom CSS -->
  <link href="../css/style.css" rel="stylesheet"/>

  <!-- Custom Fonts -->
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<div id="wrapper">

  <!-- Navigation -->
  <nav th:replace="fragments/navbar"/>

  <div id="page-wrapper" class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <h1 class="page-header">Create review</h1>
      </div>
      <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
    <div class="row">
      <div class="col-lg-10 col-lg-offset-1">
        <!-- /.panel -->
        <div class="panel panel-default">
          <div class="panel-body">
            <div class="row">
              <div class="col-xs-12">
                <form action="#" th:action="@{/add_review.html}" th:object="${review}" method="post" class="">
                  <div class="form-inline">
                    <label for="name">Name</label>
                    <br/>
                    <input type="text" class="input-lg form-control" id="name" placeholder="Name" th:field="*{name}" size="41"/>
                    <span>
                      <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="error">Invalid Name</span>
                    </span>
                  </div>
                  <div class="form-inline">
                    <label for="name">Description</label>
                    <br/>
                    <textarea type="text" class="input-lg form-control" id="description" placeholder="Description"
                           th:field="*{description}" cols="40" rows="3"/>
                    <span th:if="${#fields.hasErrors('description')}" th:errors="*{description}" class="error" >Invalid Description</span>
                  </div>
                  <div class="form-inline">
                    <label for="date">Date</label>
                    <br/>
                    <input type="text" class="input-lg form-control" id="date" placeholder="Date"
                           th:field="*{scheduledDate}" data-date-start-date="0d" data-date-format="yyyy-mm-dd" size="18"/>
                    <input type="text" class="input-lg form-control" id="time" placeholder="Time"
                           th:text="${{scheduledTime}}" th:field="*{scheduledTime}" size="18"/>
                    <span th:if="${#fields.hasErrors('scheduledDate')}" th:errors="*{scheduledDate}" class="error">Invalid Date</span>
                    <span th:if="${#fields.hasErrors('scheduledTime')}" th:errors="*{scheduledTime}" class="error">Invalid Time</span>
                  </div>
                  <div class="form-inline">
                    <label for="teamId">Team</label>
                    <br/>
                    <select class="input-lg form-control" id="teamId" th:field="*{teamId}">
                      <option value="0"> - Select Team - </option>
                      <option th:each="team : ${teams}" th:text="${team.name}" th:value="${team.id}"></option>
                    </select>
                    <span th:if="${#fields.hasErrors('teamId')}" th:errors="*{teamId}" class="error">Invalid Team</span>
                  </div>
                  <div th:if="${teams == null or #lists.isEmpty(teams)}" class="text-center error">
                    No teams registered yet. You cannot add any review without creating a team first.
                    <br/>
                  </div>
                  <div class="text-right">
                    <button type="submit" th:disabled="${teams == null or #lists.isEmpty(teams)}" class="btn btn-lg btn-primary">Save</button>
                  </div>
                </form>
              </div>
            </div>
            <!-- /.row -->
          </div>
          <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
      </div>
      <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
  </div>
  <!-- /#page-wrapper -->

</div>
<!-- /#wrapper -->
<footer class="footer">
  <div class="container">
    <div class="row text-center">
      <img src="../img/ebusiness.png" class="logo" alt=""/> &bullet; 2017
    </div>
  </div>
</footer>

<!-- jQuery -->
<script src="../js/jquery-3.1.1.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="../js/bootstrap.min.js"></script>

<!-- TimePicker -->
<script src="../js/jquery.timepicker.min.js"></script>
<script src="../js/bootstrap-datepicker.min.js"></script>
<script src="../js/bootstrap-datepicker.fr.js" charset="UTF-8"></script>
<script th:inline="javascript">
  var locale = [[${#locale}]];
  $('#time').timepicker({ scrollDefault: 'now' });
  $('#date').datepicker({
    toggleActive: true,
    todayHighlight: true,
    language: locale.language
  });
</script>

</body>

</html>
