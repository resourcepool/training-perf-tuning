<!DOCTYPE html>
<html th:lang="${#locale}" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content=""/>
  <meta name="author" content=""/>

  <title>NextReview</title>

  <!-- Bootstrap CSS -->
  <link href="../css/bootstrap.min.css" rel="stylesheet"/>
  
  <!-- Tokenize2 CSS -->
  <link href="../css/tokenize2.min.css" rel="stylesheet" type="text/css"/>
  
  <!-- Custom CSS -->
  <link href="../css/style.css" rel="stylesheet"/>

  <!-- Custom Fonts -->
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
        type="text/css"/>
</head>

<body>

<div id="wrapper">

  <!-- Navigation -->
  <nav th:replace="fragments/navbar"/>

  <div id="page-wrapper" class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <h1 class="page-header">Create a Team</h1>
      </div>
      <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
    <div class="row">
      <div class="col-lg-10 col-lg-offset-1">
        <!-- /.panel -->
        <div class="panel panel-default">
          <div class="panel-body">
            <div class="row">
              <div class="col-xs-12">
                <form action="#" th:action="@{/add_team.html}" th:object="${team}" method="post" class="">
                  <div class="form-group">
                    <label for="name">Team Codename</label>
                    <input type="text" class="input-lg form-control" id="name" placeholder="Name" th:field="*{name}"/>
                    <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="error">Invalid Name</div>
                  </div>
                  <div class="form-group">
                    <label for="members">Members</label>
                    <br/>
                    <select id="members" th:field="*{members}" multiple="multiple">
                      <option th:each="member : ${members}" th:text="${member.firstName} + ' ' + ${member.lastName}" th:value="${member.id}" th:selected="${team.members != null and #lists.contains(team.members, member.id)}"></option>
                    </select>
                    <br/>
                    <span th:if="${#fields.hasErrors('members')}" th:errors="*{members}" class="error">Invalid Members</span>
                  </div>
                  <div class="text-right">
                    <button type="submit" class="btn btn-lg btn-primary">Save</button>
                  </div>
                </form>
              </div>
            </div>
            <!-- /.row -->
          </div>
          <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
      </div>
      <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
  </div>
  <!-- /#page-wrapper -->

</div>
<!-- /#wrapper -->
<footer th:replace="fragments/footer"/>

<!-- jQuery -->
<script src="../js/jquery-3.1.1.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="../js/bootstrap.min.js"></script>
<!-- Tokenize 2 Members JavaScript -->
<script src="../js/tokenize2.min.js"></script>
<!-- Custom Script to load available members -->
<script th:inline="javascript">
  $(document).ready(function() {
    $("#members").tokenize2();
    $(".tokens-container").addClass("input-lg");
  });
</script>
</body>

</html>
